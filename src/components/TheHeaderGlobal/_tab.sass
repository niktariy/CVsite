@import "./src/style/base/colors"
@import "./src/style/base/variables"

$tabs-brk: 868px
$tab-spacing: 16px
$items-count: 4 !global

.tab

  &__list
    display: flex
    flex-wrap: wrap
    margin: 0 -#{$tab-spacing}
    padding: 0
    position: relative
    list-style: none
    opacity: 1 !important
    transform: scale3d(1, 1, 0) translate3d(1, 1, 0)
    @media screen and (min-width: $tabs-brk)
      animation: none !important
  
  &__line
    position: absolute
    left: 0
    top: 100%
    height: 2px
    width: 130px
    border:
      style: solid
      color: transparent
      width: 0 48px
    pointer-events: none
    will-change: transform
    transition: transform 0.5s cubic-bezier(1, 0.01, 0, 1.22)
    span
      display: block
      margin: 0 auto
      height: 3px
      width: 100%
      background: $links-color
      border-radius: 2px

  &__item
    display: block
    padding: $tab-spacing
    width: 130px
    cursor: pointer
    -webkit-touch-callout: none
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0)
    vertical-align: middle
    text-align: center
    color: $text-color--regular
    font:
      size: 18px
      weight: 600
    will-change: color, font-size
    transition: color 0.18s $v--standard-easing
    user-select: none
    &:hover, &:focus
      color: $links-color
    @media screen and (max-width: 500px)
      font-size: 18px
    @media screen and (max-height: 500px) and (max-width: 500px)
      font-size: 14px
    &.current
      color: $links-color--dark
      transition: color .5s

    @for $i from 0 to $items-count
      &:nth-child(#{$i + 1}).current ~ .tab__line
        transform: translate3d(#{$i * 100 * 1%}, 0, 0)

  @media screen and (max-width: $tabs_brk)

    &__list
      align-items: center
      flex-direction: column
      justify-content: center
      position: fixed
      top: 0
      right: 0
      height: 100vh
      width: 100%
      z-index: 999
      background-color: mix($primaryLight, white, 10%)
      &:not(.animated)
        visibility: hidden

    &__item
      position: relative
      width: auto
      text-transform: uppercase
